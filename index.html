<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Code School (SPA Demo)</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <style>
        /* Custom Styles for Page Transitions */
        .page {
            opacity: 1;
            transition: opacity 0.4s ease-in-out;
        }

        .page.hidden {
            display: none;
        }

        /* Ensure cards in a row have the same height */
        .card {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .card-body {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .card-text {
            flex-grow: 1;
        }
        .mt-auto {
            margin-top: auto;
        }

        /* Custom Jumbotron style */
        .jumbotron-custom {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=2070&auto=format&fit=crop') no-repeat center center;
            background-size: cover;
            color: white;
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#" data-target="home-page"><i class="bi bi-code-slash"></i> PHP Code School</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" data-target="home-page">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-target="courses-page">All Courses</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-target="contact-page">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="container-fluid">

        <!-- HOME PAGE -->
        <section id="home-page" class="page">
            <div class="p-5 mb-4 rounded-3 jumbotron-custom">
                <div class="container-fluid py-5">
                    <h1 class="display-5 fw-bold">Learn to Code with PHP</h1>
                    <p class="col-md-8 fs-4">Master the skills to build dynamic websites and powerful web applications. From beginner to advanced, we have the right course for you.</p>
                    <a class="btn btn-primary btn-lg" href="#" data-target="courses-page" role="button">Browse All Courses</a>
                </div>
            </div>

            <div class="container">
                <h2 class="mb-4 text-center">Featured Courses</h2>
                <div id="featured-courses-container" class="row">
                    <!-- Featured courses will be injected here by JS -->
                </div>
            </div>
        </section>

        <!-- ALL COURSES PAGE -->
        <section id="courses-page" class="page hidden">
            <div class="container mt-4">
                <h1 class="mb-4">All Our Courses</h1>
                <div id="all-courses-container" class="row">
                    <!-- All courses will be injected here by JS -->
                </div>
            </div>
        </section>

        <!-- COURSE DETAIL PAGE -->
        <section id="course-detail-page" class="page hidden">
            <div class="container mt-4">
                <button class="btn btn-secondary mb-3" id="back-to-courses-btn"><i class="bi bi-arrow-left"></i> Back to Courses</button>
                <div id="course-detail-content">
                    <!-- Course details will be injected here by JS -->
                </div>
            </div>
        </section>

        <!-- CONTACT PAGE -->
        <section id="contact-page" class="page hidden">
            <div class="container mt-4">
                <h1>Contact Us</h1>
                <p>Have a question? Fill out the form below and we'll get back to you.</p>
                <div id="contact-form-feedback"></div>
                <form id="contact-form" class="mt-4">
                    <div class="mb-3">
                        <label for="name" class="form-label">Your Name</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Your Email</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="mb-3">
                        <label for="message" class="form-label">Message</label>
                        <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; <span id="current-year"></span> PHP Code School. All Rights Reserved.</p>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom Application JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- 1. DATA STORE (Our "Database") ---
            const coursesData = [
                {
                    id: 1,
                    title: 'PHP Fundamentals',
                    shortDescription: 'Learn the basics of PHP, from variables to loops and functions. Perfect for absolute beginners.',
                    fullDescription: 'This comprehensive course will take you from knowing nothing about PHP to being a confident beginner. We cover syntax, data types, control structures, functions, and how to interact with HTML forms. You will build small, practical projects along the way to solidify your knowledge.',
                    instructor: 'John Doe',
                    duration: '8 hours',
                    icon: 'bi-book-half'
                },
                {
                    id: 2,
                    title: 'Advanced PHP & OOP',
                    shortDescription: 'Dive deep into Object-Oriented Programming, design patterns, and modern PHP practices.',
                    fullDescription: 'Take your PHP skills to the next level. Master classes, objects, inheritance, polymorphism, and key design patterns like Singleton and Factory. This course is essential for building robust, scalable, and maintainable applications.',
                    instructor: 'Jane Smith',
                    duration: '12 hours',
                    icon: 'bi-gear-fill'
                },
                {
                    id: 3,
                    title: 'Building a CMS with PHP',
                    shortDescription: 'Learn how to build a custom Content Management System from scratch using PHP and MySQL.',
                    fullDescription: 'In this project-based course, you will build a fully functional blog/CMS. We will cover user authentication, CRUD operations (Create, Read, Update, Delete), and building a simple admin panel. By the end, you will have a portfolio-worthy project.',
                    instructor: 'John Doe',
                    duration: '20 hours',
                    icon: 'bi-hammer'
                },
                {
                    id: 4,
                    title: 'PHP & MySQL Integration',
                    shortDescription: 'Master the art of connecting PHP to a MySQL database to create dynamic, data-driven websites.',
                    fullDescription: 'Learn how to perform database operations securely using PDO (PHP Data Objects). This course covers writing complex SQL queries, preventing SQL injection, handling user data, and displaying database records on your web pages.',
                    instructor: 'Emily Jones',
                    duration: '10 hours',
                    icon: 'bi-database-fill'
                },
                {
                    id: 5,
                    title: 'API Development with PHP',
                    shortDescription: 'Learn to build robust RESTful APIs that can power mobile apps and modern front-end frameworks.',
                    fullDescription: 'Enter the world of back-end development. This course teaches you how to design, build, and secure REST APIs using PHP. You will learn about HTTP methods, status codes, API authentication with tokens, and how to format data as JSON.',
                    instructor: 'Chris Lee',
                    duration: '15 hours',
                    icon: 'bi-plug-fill'
                }
            ];

            // --- 2. DOM ELEMENT REFERENCES ---
            const pages = document.querySelectorAll('.page');
            const navLinks = document.querySelectorAll('.navbar-nav a[data-target]');
            const featuredCoursesContainer = document.getElementById('featured-courses-container');
            const allCoursesContainer = document.getElementById('all-courses-container');
            const courseDetailContent = document.getElementById('course-detail-content');
            const contactForm = document.getElementById('contact-form');
            const contactFormFeedback = document.getElementById('contact-form-feedback');
            const backToCoursesBtn = document.getElementById('back-to-courses-btn');
            const currentYearSpan = document.getElementById('current-year');


            // --- 3. CORE FUNCTIONS ---

            /**
             * Shows a specific page and hides all others.
             * @param {string} pageId - The ID of the page to show.
             */
            function showPage(pageId) {
                pages.forEach(page => page.classList.add('hidden'));
                document.getElementById(pageId).classList.remove('hidden');

                // Update active nav link
                navLinks.forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`.navbar-nav a[data-target="${pageId}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }

            /**
             * Renders course cards into a specified container.
             * @param {HTMLElement} container - The container element.
             * @param {Array} courses - The array of courses to render.
             * @param {boolean} isFeatured - If true, shows a "Learn More" button.
             */
            function renderCourses(container, courses, isFeatured = false) {
                container.innerHTML = ''; // Clear existing content
                courses.forEach(course => {
                    const courseCard = `
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card h-100 shadow-sm">
                                <div class="card-body d-flex flex-column">
                                    <h5 class="card-title"><i class="bi ${course.icon} me-2"></i>${course.title}</h5>
                                    <p class="card-text flex-grow-1">${course.shortDescription}</p>
                                    <p class="card-text"><small class="text-muted">Instructor: ${course.instructor} | Duration: ${course.duration}</small></p>
                                    <a href="#" class="btn btn-primary mt-auto view-course-btn" data-course-id="${course.id}">${isFeatured ? 'Learn More' : 'View Course'}</a>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += courseCard;
                });
            }
            
            /**
             * Displays the full details of a single course.
             * @param {number} courseId - The ID of the course to display.
             */
            function showCourseDetail(courseId) {
                const course = coursesData.find(c => c.id === courseId);
                if (!course) {
                    courseDetailContent.innerHTML = '<div class="alert alert-danger">Course not found.</div>';
                    showPage('course-detail-page');
                    return;
                }

                courseDetailContent.innerHTML = `
                    <h1><i class="bi ${course.icon} me-2"></i>${course.title}</h1>
                    <hr>
                    <p><strong>Instructor:</strong> ${course.instructor}</p>
                    <p><strong>Duration:</strong> ${course.duration}</p>
                    <div class="mt-4">
                        <h3>About This Course</h3>
                        <p>${course.fullDescription}</p>
                    </div>
                `;
                showPage('course-detail-page');
            }

            // --- 4. EVENT LISTENERS ---

            // Navigation clicks
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetPage = e.target.getAttribute('data-target');
                    showPage(targetPage);
                });
            });

            // Course card clicks (using event delegation)
            document.addEventListener('click', (e) => {
                if (e.target && e.target.classList.contains('view-course-btn')) {
                    e.preventDefault();
                    const courseId = parseInt(e.target.getAttribute('data-course-id'));
                    showCourseDetail(courseId);
                }
            });

            // Back to courses button
            backToCoursesBtn.addEventListener('click', (e) => {
                e.preventDefault();
                showPage('courses-page');
            });

            // Contact form submission
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const formData = new FormData(contactForm);
                const name = formData.get('name');
                const email = formData.get('email');
                const message = formData.get('message');
                
                // Simulate sending the email
                console.log('Form Submitted:', { name, email, message });
                
                // Show success message to user
                contactFormFeedback.innerHTML = `
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <strong>Thank you, ${name}!</strong> Your message has been sent successfully. We'll get back to you at ${email}.
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `;
                
                // Clear the form
                contactForm.reset();
            });

            // --- 5. INITIAL PAGE LOAD ---
            currentYearSpan.textContent = new Date().getFullYear();
            renderCourses(featuredCoursesContainer, coursesData.slice(0, 3), true); // Show first 3 as featured
            renderCourses(allCoursesContainer, coursesData); // Show all courses
            showPage('home-page'); // Ensure the home page is the first one visible
        });
    </script>
</body>
</html>
